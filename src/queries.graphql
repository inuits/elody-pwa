fragment minimalEntity on Entity {
  id
  type
  metadata(key: [title, type]) {
    key
    value
  }
}

fragment fullEntity on Entity {
  id
  type
  title: metadata(key: [title]) {
    value
  }
  metadata(key: [description, material, type]) {
    key
    value
  }
  mediafiles {
      original_file_location
  }
}

query getEntities($limit: Int, $skip: Int, $searchQuery: String) {
  Entities(limit: $limit, skip: $skip, searchQuery: $searchQuery) {
    count
    limit
    results {
      ...minimalEntity
    }
  }
}

query getEntityById($id: String!) {
  Entity(id: $id) {
    ...fullEntity
  }
}

mutation editMetadata($id: String!, $metadata: [MetadataInput!]!) {
  replaceMetadata(id: $id, metadata: $metadata) {
    ...fullEntity
  }
}
